<template>
  <div class="typography-demo">
    <div class="demo-header">
      <h2 class="text-2xl font-bold text-gray-900 mb-2">CSS å­—ä½“æ’ç‰ˆ</h2>
      <p class="text-gray-600">æŒæ¡æ–‡å­—çš„æ ·å¼æ§åˆ¶ï¼Œæ‰“é€ ä¼˜ç§€çš„é˜…è¯»ä½“éªŒ</p>
    </div>

    <!-- å­—ä½“åŸºç¡€å±æ€§ -->
    <section class="demo-section">
      <h3 class="section-title">å­—ä½“åŸºç¡€å±æ€§</h3>
      
      <div class="demo-playground">
        <div class="controls">
          <h4 class="font-semibold mb-3">å­—ä½“è®¾ç½®</h4>
          <div class="control-group">
            <label>å­—ä½“æ— (font-family):</label>
            <select v-model="fontFamily" class="control-select">
              <option value="Arial, sans-serif">Arial (æ— è¡¬çº¿)</option>
              <option value="Georgia, serif">Georgia (è¡¬çº¿)</option>
              <option value="'Courier New', monospace">Courier New (ç­‰å®½)</option>
              <option value="'Times New Roman', serif">Times New Roman</option>
              <option value="Helvetica, sans-serif">Helvetica</option>
              <option value="'Comic Sans MS', cursive">Comic Sans MS</option>
            </select>
          </div>
          
          <div class="control-group">
            <label>å­—ä½“å¤§å° (font-size): {{ fontSize }}px</label>
            <input v-model="fontSize" type="range" min="12" max="48" class="control-range">
          </div>
          
          <div class="control-group">
            <label>å­—ä½“ç²—ç»† (font-weight):</label>
            <select v-model="fontWeight" class="control-select">
              <option value="100">100 - Thin</option>
              <option value="300">300 - Light</option>
              <option value="400">400 - Normal</option>
              <option value="500">500 - Medium</option>
              <option value="600">600 - Semi Bold</option>
              <option value="700">700 - Bold</option>
              <option value="900">900 - Black</option>
            </select>
          </div>
          
          <div class="control-group">
            <label>å­—ä½“æ ·å¼ (font-style):</label>
            <select v-model="fontStyle" class="control-select">
              <option value="normal">normal</option>
              <option value="italic">italic</option>
              <option value="oblique">oblique</option>
            </select>
          </div>
          
          <div class="control-group">
            <label>æ–‡å­—è£…é¥° (text-decoration):</label>
            <select v-model="textDecoration" class="control-select">
              <option value="none">none</option>
              <option value="underline">underline</option>
              <option value="overline">overline</option>
              <option value="line-through">line-through</option>
              <option value="underline overline">underline overline</option>
            </select>
          </div>
          
          <div class="control-group">
            <label>æ–‡å­—é¢œè‰²:</label>
            <input v-model="textColor" type="color" class="control-color">
          </div>
        </div>

        <div class="preview-area">
          <div class="text-preview" :style="textStyle">
            <h1>ä¸€çº§æ ‡é¢˜ç¤ºä¾‹ Heading 1</h1>
            <h2>äºŒçº§æ ‡é¢˜ç¤ºä¾‹ Heading 2</h2>
            <h3>ä¸‰çº§æ ‡é¢˜ç¤ºä¾‹ Heading 3</h3>
            <p>
              è¿™æ˜¯ä¸€æ®µæ­£æ–‡ç¤ºä¾‹æ–‡å­—ã€‚é€šè¿‡è°ƒæ•´å·¦ä¾§çš„æ§åˆ¶é¢æ¿ï¼Œä½ å¯ä»¥å®æ—¶é¢„è§ˆä¸åŒå­—ä½“å±æ€§çš„æ•ˆæœã€‚
              CSS å­—ä½“å±æ€§æ˜¯æ§åˆ¶æ–‡å­—å¤–è§‚çš„æ ¸å¿ƒå·¥å…·ã€‚This is a sample paragraph text. 
              You can see how different font properties affect the appearance of text.
            </p>
            <p>
              å­—ä½“çš„é€‰æ‹©å¯¹ç”¨æˆ·ä½“éªŒæœ‰é‡è¦å½±å“ã€‚å¥½çš„å­—ä½“ä¸ä»…è¦ç¾è§‚ï¼Œè¿˜è¦è€ƒè™‘å¯è¯»æ€§ã€å…¼å®¹æ€§å’Œæ€§èƒ½ã€‚
              ç°ä»£ç½‘é¡µè®¾è®¡ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ç³»ç»Ÿå­—ä½“æˆ– Web å­—ä½“æ¥ç¡®ä¿ä¸€è‡´çš„è§†è§‰æ•ˆæœã€‚
            </p>
          </div>
        </div>

        <div class="code-display">
          <CodeBlock 
            :code="generatedCSS" 
            language="css" 
            title="ç”Ÿæˆçš„ CSS ä»£ç "
            :show-line-numbers="true"
          />
        </div>
      </div>
    </section>

    <!-- æ–‡æœ¬å¸ƒå±€å±æ€§ -->
    <section class="demo-section">
      <h3 class="section-title">æ–‡æœ¬å¸ƒå±€ä¸é—´è·</h3>
      
      <div class="demo-playground">
        <div class="controls">
          <h4 class="font-semibold mb-3">å¸ƒå±€è®¾ç½®</h4>
          <div class="control-group">
            <label>è¡Œé«˜ (line-height): {{ lineHeight }}</label>
            <input v-model="lineHeight" type="range" min="1" max="3" step="0.1" class="control-range">
          </div>
          
          <div class="control-group">
            <label>å­—é—´è· (letter-spacing): {{ letterSpacing }}px</label>
            <input v-model="letterSpacing" type="range" min="-2" max="10" step="0.5" class="control-range">
          </div>
          
          <div class="control-group">
            <label>è¯é—´è· (word-spacing): {{ wordSpacing }}px</label>
            <input v-model="wordSpacing" type="range" min="-5" max="20" step="1" class="control-range">
          </div>
          
          <div class="control-group">
            <label>æ–‡æœ¬å¯¹é½ (text-align):</label>
            <select v-model="textAlign" class="control-select">
              <option value="left">left</option>
              <option value="center">center</option>
              <option value="right">right</option>
              <option value="justify">justify</option>
            </select>
          </div>
          
          <div class="control-group">
            <label>æ–‡æœ¬ç¼©è¿› (text-indent): {{ textIndent }}px</label>
            <input v-model="textIndent" type="range" min="0" max="50" class="control-range">
          </div>
          
          <div class="control-group">
            <label>æ–‡æœ¬è½¬æ¢ (text-transform):</label>
            <select v-model="textTransform" class="control-select">
              <option value="none">none</option>
              <option value="uppercase">uppercase</option>
              <option value="lowercase">lowercase</option>
              <option value="capitalize">capitalize</option>
            </select>
          </div>
        </div>

        <div class="preview-area">
          <div class="layout-preview" :style="layoutStyle">
            <h3>æ–‡æœ¬å¸ƒå±€ç¤ºä¾‹</h3>
            <p>
              è¿™æ˜¯ç¬¬ä¸€æ®µæ–‡å­—ã€‚é€šè¿‡è°ƒæ•´è¡Œé«˜ã€å­—é—´è·ã€è¯é—´è·ç­‰å±æ€§ï¼Œå¯ä»¥æ˜¾è‘—æ”¹å–„æ–‡æœ¬çš„å¯è¯»æ€§å’Œè§†è§‰æ•ˆæœã€‚
              è‰¯å¥½çš„æ’ç‰ˆä¸ä»…è®©å†…å®¹æ›´å®¹æ˜“é˜…è¯»ï¼Œè¿˜èƒ½ä¼ è¾¾ä¸“ä¸šæ„Ÿå’Œå“è´¨æ„Ÿã€‚
            </p>
            <p>
              ç¬¬äºŒæ®µæ–‡å­—å±•ç¤ºäº†ä¸åŒçš„å¯¹é½æ–¹å¼å’Œç¼©è¿›æ•ˆæœã€‚åœ¨ç½‘é¡µè®¾è®¡ä¸­ï¼Œåˆé€‚çš„æ–‡æœ¬é—´è·èƒ½å¤Ÿå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°
              ç†è§£å†…å®¹ç»“æ„ï¼Œæå‡é˜…è¯»ä½“éªŒã€‚ç‰¹åˆ«æ˜¯åœ¨é•¿æ–‡æœ¬åœºæ™¯ä¸‹ï¼Œé€‚å½“çš„è¡Œé—´è·å°¤ä¸ºé‡è¦ã€‚
            </p>
            <p>
              The third paragraph demonstrates text transformation effects. 
              These properties help create visual hierarchy and improve readability.
              Modern typography focuses on creating comfortable reading experiences.
            </p>
          </div>
        </div>

        <div class="code-display">
          <CodeBlock 
            :code="layoutCSS" 
            language="css" 
            title="ç”Ÿæˆçš„ CSS ä»£ç "
            :show-line-numbers="true"
          />
        </div>
      </div>
    </section>

    <!-- é«˜çº§æ–‡æœ¬æ•ˆæœ -->
    <section class="demo-section">
      <h3 class="section-title">é«˜çº§æ–‡æœ¬æ•ˆæœ</h3>
      
      <div class="demo-playground">
        <div class="controls">
          <h4 class="font-semibold mb-3">æ•ˆæœè®¾ç½®</h4>
          <div class="control-group">
            <label>æ–‡å­—é˜´å½± (text-shadow):</label>
            <select v-model="textShadowPreset" class="control-select">
              <option value="none">æ— é˜´å½±</option>
              <option value="simple">ç®€å•é˜´å½±</option>
              <option value="glow">å‘å…‰æ•ˆæœ</option>
              <option value="emboss">æµ®é›•æ•ˆæœ</option>
              <option value="multiple">å¤šé‡é˜´å½±</option>
            </select>
          </div>
          
          <div class="control-group">
            <label>æ–‡æœ¬æº¢å‡ºå¤„ç†:</label>
            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" v-model="enableEllipsis">
                å¯ç”¨çœç•¥å· (text-overflow: ellipsis)
              </label>
            </div>
          </div>
          
          <div class="control-group">
            <label>èƒŒæ™¯è£å‰ªæ–‡å­—:</label>
            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" v-model="enableClipText">
                æ¸å˜æ–‡å­—æ•ˆæœ (background-clip: text)
              </label>
            </div>
          </div>
        </div>

        <div class="preview-area">
          <div class="effects-preview">
            <div class="effect-item">
              <h3 :style="shadowStyle">æ–‡å­—é˜´å½±æ•ˆæœ</h3>
              <p :style="shadowStyle">è¿™æ®µæ–‡å­—å±•ç¤ºäº†ä¸åŒçš„é˜´å½±æ•ˆæœï¼ŒåŒ…æ‹¬ç®€å•é˜´å½±ã€å‘å…‰æ•ˆæœã€æµ®é›•æ•ˆæœç­‰ã€‚</p>
            </div>
            
            <div class="effect-item">
              <h3>æ–‡æœ¬æº¢å‡ºå¤„ç†</h3>
              <div class="overflow-container" :style="overflowStyle">
                è¿™æ˜¯ä¸€æ®µå¾ˆé•¿çš„æ–‡å­—ç”¨æ¥æ¼”ç¤ºæ–‡æœ¬æº¢å‡ºå¤„ç†æ•ˆæœã€‚å½“æ–‡æœ¬è¶…å‡ºå®¹å™¨å®½åº¦æ—¶ï¼Œå¯ä»¥é€‰æ‹©æ˜¾ç¤ºçœç•¥å·æˆ–å…¶ä»–å¤„ç†æ–¹å¼ã€‚
              </div>
            </div>
            
            <div class="effect-item">
              <h3 :style="clipTextStyle">æ¸å˜æ–‡å­—æ•ˆæœ</h3>
              <p :style="clipTextStyle">
                è¿™æ®µæ–‡å­—ä½¿ç”¨äº†èƒŒæ™¯è£å‰ªæŠ€æœ¯ï¼Œåˆ›é€ å‡ºæ¸å˜æ–‡å­—çš„è§†è§‰æ•ˆæœã€‚
              </p>
            </div>
          </div>
        </div>

        <div class="code-display">
          <CodeBlock 
            :code="effectsCSS" 
            language="css" 
            title="æ•ˆæœ CSS ä»£ç "
            :show-line-numbers="true"
          />
        </div>
      </div>
    </section>

    <!-- å­—ä½“æœ€ä½³å®è·µ -->
    <section class="demo-section">
      <h3 class="section-title">å­—ä½“é€‰æ‹©ä¸æœ€ä½³å®è·µ</h3>
      
      <div class="best-practices">
        <div class="practice-grid">
          <div class="practice-card">
            <h4 class="practice-title">ğŸ¯ å¯è¯»æ€§ä¼˜å…ˆ</h4>
            <ul class="practice-list">
              <li>æ­£æ–‡ä½¿ç”¨ 14-16px å­—å·</li>
              <li>è¡Œé«˜è®¾ç½®ä¸º 1.4-1.6 å€</li>
              <li>ç¡®ä¿è¶³å¤Ÿçš„å¯¹æ¯”åº¦</li>
              <li>é¿å…ä½¿ç”¨è¿‡å¤šè£…é¥°æ€§å­—ä½“</li>
            </ul>
          </div>
          
          <div class="practice-card">
            <h4 class="practice-title">ğŸ“± å“åº”å¼è€ƒè™‘</h4>
            <ul class="practice-list">
              <li>ç§»åŠ¨ç«¯é€‚å½“å¢å¤§å­—å·</li>
              <li>ä½¿ç”¨ç›¸å¯¹å•ä½ (em, rem)</li>
              <li>è€ƒè™‘ä¸åŒå±å¹•å¯†åº¦</li>
              <li>æµ‹è¯•å„ç§è®¾å¤‡æ•ˆæœ</li>
            </ul>
          </div>
          
          <div class="practice-card">
            <h4 class="practice-title">âš¡ æ€§èƒ½ä¼˜åŒ–</h4>
            <ul class="practice-list">
              <li>ä¼˜å…ˆä½¿ç”¨ç³»ç»Ÿå­—ä½“</li>
              <li>é™åˆ¶ Web å­—ä½“æ•°é‡</li>
              <li>ä½¿ç”¨ font-display å±æ€§</li>
              <li>é¢„åŠ è½½å…³é”®å­—ä½“æ–‡ä»¶</li>
            </ul>
          </div>
          
          <div class="practice-card">
            <h4 class="practice-title">ğŸŒ å¤šè¯­è¨€æ”¯æŒ</h4>
            <ul class="practice-list">
              <li>è€ƒè™‘å­—ç¬¦é›†è¦†ç›–</li>
              <li>è®¾ç½®åˆé€‚çš„ fallback</li>
              <li>æ³¨æ„ä¸åŒè¯­è¨€çš„æ’ç‰ˆä¹ æƒ¯</li>
              <li>æµ‹è¯•ç‰¹æ®Šå­—ç¬¦æ˜¾ç¤º</li>
            </ul>
          </div>
        </div>
        
        <div class="font-stack-examples">
          <h4 class="font-semibold mb-4">æ¨èå­—ä½“æ ˆ</h4>
          <div class="stack-grid">
            <div class="stack-item">
              <h5>ç³»ç»Ÿå­—ä½“æ ˆ</h5>
              <code>font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;</code>
            </div>
            <div class="stack-item">
              <h5>ä¸­æ–‡å­—ä½“æ ˆ</h5>
              <code>font-family: 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;</code>
            </div>
            <div class="stack-item">
              <h5>ç­‰å®½å­—ä½“æ ˆ</h5>
              <code>font-family: 'SF Mono', Monaco, 'Cascadia Code', Consolas, monospace;</code>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script>
import CodeBlock from '@/components/common/CodeBlock.vue'

export default {
  components: {
    CodeBlock
  },
  name: 'TypographyDemo',
  data() {
    return {
      // å­—ä½“åŸºç¡€å±æ€§
      fontFamily: 'Arial, sans-serif',
      fontSize: 16,
      fontWeight: '400',
      fontStyle: 'normal',
      textDecoration: 'none',
      textColor: '#333333',
      
      // æ–‡æœ¬å¸ƒå±€å±æ€§
      lineHeight: 1.5,
      letterSpacing: 0,
      wordSpacing: 0,
      textAlign: 'left',
      textIndent: 0,
      textTransform: 'none',
      
      // é«˜çº§æ•ˆæœ
      textShadowPreset: 'none',
      enableEllipsis: false,
      enableClipText: false
    }
  },
  computed: {
    textStyle() {
      return {
        fontFamily: this.fontFamily,
        fontSize: this.fontSize + 'px',
        fontWeight: this.fontWeight,
        fontStyle: this.fontStyle,
        textDecoration: this.textDecoration,
        color: this.textColor
      }
    },
    
    layoutStyle() {
      return {
        lineHeight: this.lineHeight,
        letterSpacing: this.letterSpacing + 'px',
        wordSpacing: this.wordSpacing + 'px',
        textAlign: this.textAlign,
        textIndent: this.textIndent + 'px',
        textTransform: this.textTransform
      }
    },
    
    shadowStyle() {
      const shadows = {
        none: 'none',
        simple: '2px 2px 4px rgba(0,0,0,0.3)',
        glow: '0 0 10px rgba(59, 130, 246, 0.5)',
        emboss: '1px 1px 0 rgba(255,255,255,0.8), -1px -1px 0 rgba(0,0,0,0.3)',
        multiple: '1px 1px 0 #ccc, 2px 2px 0 #c9c9c9, 3px 3px 0 #bbb, 4px 4px 0 #b9b9b9, 5px 5px 0 #aaa'
      }
      return {
        textShadow: shadows[this.textShadowPreset]
      }
    },
    
    overflowStyle() {
      return {
        width: '200px',
        whiteSpace: this.enableEllipsis ? 'nowrap' : 'normal',
        overflow: this.enableEllipsis ? 'hidden' : 'visible',
        textOverflow: this.enableEllipsis ? 'ellipsis' : 'clip',
        border: '1px solid #ddd',
        padding: '8px',
        borderRadius: '4px'
      }
    },
    
    clipTextStyle() {
      if (this.enableClipText) {
        return {
          background: 'linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1)',
          WebkitBackgroundClip: 'text',
          backgroundClip: 'text',
          WebkitTextFillColor: 'transparent',
          color: 'transparent',
          fontSize: '24px',
          fontWeight: 'bold'
        }
      }
      return {}
    },
    
    generatedCSS() {
      return `.text-element {
  font-family: ${this.fontFamily};
  font-size: ${this.fontSize}px;
  font-weight: ${this.fontWeight};
  font-style: ${this.fontStyle};
  text-decoration: ${this.textDecoration};
  color: ${this.textColor};
}`
    },
    
    layoutCSS() {
      return `.text-layout {
  line-height: ${this.lineHeight};
  letter-spacing: ${this.letterSpacing}px;
  word-spacing: ${this.wordSpacing}px;
  text-align: ${this.textAlign};
  text-indent: ${this.textIndent}px;
  text-transform: ${this.textTransform};
}`
    },
    
    effectsCSS() {
      let css = ''
      if (this.textShadowPreset !== 'none') {
        css += `.text-shadow {\n  text-shadow: ${this.shadowStyle.textShadow};\n}\n\n`
      }
      if (this.enableEllipsis) {
        css += `.text-ellipsis {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n`
      }
      if (this.enableClipText) {
        css += `.gradient-text {\n  background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);\n  -webkit-background-clip: text;\n  background-clip: text;\n  -webkit-text-fill-color: transparent;\n}`
      }
      return css || '/* æ— ç‰¹æ®Šæ•ˆæœ */'
    }
  }
}
</script>

<style scoped>
.typography-demo {
  @apply space-y-8;
}

.demo-header {
  @apply bg-white rounded-lg shadow-md p-6 border border-gray-200;
}

.demo-section {
  @apply bg-white rounded-lg shadow-md overflow-hidden border border-gray-200;
}

.section-title {
  @apply text-xl font-semibold text-gray-900 p-6 pb-4 border-b border-gray-200;
}

.demo-playground {
  @apply grid grid-cols-1 lg:grid-cols-3 gap-6 p-6;
}

.controls {
  @apply space-y-4;
}

.control-group {
  @apply flex flex-col space-y-2;
}

.control-group label {
  @apply text-sm font-medium text-gray-700;
}

.control-select {
  @apply px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm;
}

.control-range {
  @apply w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer;
}

.control-range::-webkit-slider-thumb {
  @apply appearance-none w-4 h-4 bg-blue-500 rounded-full cursor-pointer;
}

.control-color {
  @apply w-full h-10 border border-gray-300 rounded-md cursor-pointer;
}

.checkbox-group {
  @apply space-y-2;
}

.checkbox-label {
  @apply flex items-center space-x-2 text-sm cursor-pointer;
}

.preview-area {
  @apply lg:col-span-2 bg-gray-50 rounded-lg p-6;
}

.text-preview {
  @apply space-y-4;
}

.text-preview h1 {
  @apply text-2xl font-bold;
}

.text-preview h2 {
  @apply text-xl font-semibold;
}

.text-preview h3 {
  @apply text-lg font-medium;
}

.layout-preview {
  @apply space-y-4;
}

.effects-preview {
  @apply space-y-6;
}

.effect-item {
  @apply space-y-2;
}

.overflow-container {
  @apply bg-white;
}

.code-display {
  @apply lg:col-span-3 mt-4;
}

.code-block {
  @apply bg-gray-900 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto;
}

.best-practices {
  @apply p-6 space-y-6;
}

.practice-grid {
  @apply grid grid-cols-1 md:grid-cols-2 gap-6;
}

.practice-card {
  @apply bg-gray-50 rounded-lg p-4 border border-gray-200;
}

.practice-title {
  @apply text-lg font-semibold text-gray-900 mb-3;
}

.practice-list {
  @apply space-y-2 text-sm text-gray-600;
}

.practice-list li {
  @apply flex items-start space-x-2;
}

.practice-list li::before {
  content: "â€¢";
  @apply text-blue-500 font-bold;
}

.font-stack-examples {
  @apply bg-blue-50 rounded-lg p-6 border border-blue-200;
}

.stack-grid {
  @apply space-y-4;
}

.stack-item {
  @apply bg-white rounded-lg p-4 border border-blue-200;
}

.stack-item h5 {
  @apply font-semibold text-gray-900 mb-2;
}

.stack-item code {
  @apply bg-gray-100 px-2 py-1 rounded text-sm break-all;
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 1024px) {
  .demo-playground {
    @apply grid-cols-1;
  }
  
  .preview-area {
    @apply col-span-1;
  }
  
  .code-display {
    @apply col-span-1;
  }
}
</style>
