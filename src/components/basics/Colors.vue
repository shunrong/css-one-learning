<template>
  <div class="colors-demo">
    <div class="demo-header">
      <h2 class="text-2xl font-bold text-gray-900 mb-2">CSS é¢œè‰²ç³»ç»Ÿ</h2>
      <p class="text-gray-600">æŒæ¡ CSS ä¸­é¢œè‰²çš„è¡¨ç¤ºæ–¹æ³•ã€åº”ç”¨æŠ€å·§å’Œè®¾è®¡åŸç†</p>
    </div>

    <!-- é¢œè‰²è¡¨ç¤ºæ–¹æ³• -->
    <section class="demo-section">
      <h3 class="section-title">é¢œè‰²è¡¨ç¤ºæ–¹æ³•</h3>
      
      <div class="theory-box">
        <h4 class="font-semibold mb-2">ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ</h4>
        <p class="text-sm text-gray-600 mb-4">
          CSS æä¾›äº†å¤šç§é¢œè‰²è¡¨ç¤ºæ–¹æ³•ï¼Œæ¯ç§æ–¹æ³•éƒ½æœ‰å…¶é€‚ç”¨åœºæ™¯å’Œä¼˜åŠ¿ã€‚ç†è§£è¿™äº›æ–¹æ³•æœ‰åŠ©äºæ›´å¥½åœ°æ§åˆ¶è‰²å½©æ•ˆæœã€‚
        </p>
      </div>

      <div class="color-methods-grid">
        <div class="color-method-card">
          <h4 class="font-semibold mb-3">å…³é”®å­— (Keywords)</h4>
          <div class="color-examples">
            <div 
              v-for="color in keywordColors" 
              :key="color.name"
              class="color-example"
              :style="{ backgroundColor: color.value }"
            >
              <span class="color-name">{{ color.name }}</span>
            </div>
          </div>
          <pre class="code-example"><code>color: red;
background: blue;
border-color: transparent;</code></pre>
        </div>

        <div class="color-method-card">
          <h4 class="font-semibold mb-3">åå…­è¿›åˆ¶ (Hex)</h4>
          <div class="color-examples">
            <div 
              v-for="color in hexColors" 
              :key="color.name"
              class="color-example"
              :style="{ backgroundColor: color.value }"
            >
              <span class="color-name">{{ color.value }}</span>
            </div>
          </div>
          <pre class="code-example"><code>color: #ff0000;
background: #00ff00;
border-color: #0000ff80;</code></pre>
        </div>

        <div class="color-method-card">
          <h4 class="font-semibold mb-3">RGB / RGBA</h4>
          <div class="color-examples">
            <div 
              v-for="color in rgbColors" 
              :key="color.name"
              class="color-example"
              :style="{ backgroundColor: color.value }"
            >
              <span class="color-name">{{ color.name }}</span>
            </div>
          </div>
          <pre class="code-example"><code>color: rgb(255, 0, 0);
background: rgba(0, 255, 0, 0.5);
border-color: rgb(0 0 255 / 0.8);</code></pre>
        </div>

        <div class="color-method-card">
          <h4 class="font-semibold mb-3">HSL / HSLA</h4>
          <div class="color-examples">
            <div 
              v-for="color in hslColors" 
              :key="color.name"
              class="color-example"
              :style="{ backgroundColor: color.value }"
            >
              <span class="color-name">{{ color.name }}</span>
            </div>
          </div>
          <pre class="code-example"><code>color: hsl(0, 100%, 50%);
background: hsla(120, 100%, 50%, 0.7);
border-color: hsl(240 100% 50% / 0.6);</code></pre>
        </div>
      </div>
    </section>

    <!-- äº¤äº’å¼é¢œè‰²è°ƒèŠ‚å™¨ -->
    <section class="demo-section">
      <h3 class="section-title">äº¤äº’å¼é¢œè‰²è°ƒèŠ‚å™¨</h3>
      
      <div class="demo-playground">
        <div class="controls">
          <h4 class="font-semibold mb-3">HSL è°ƒèŠ‚</h4>
          <div class="control-group">
            <label>è‰²ç›¸ (Hue): {{ hue }}Â°</label>
            <input v-model="hue" type="range" min="0" max="360" class="control-range hue-range">
          </div>
          <div class="control-group">
            <label>é¥±å’Œåº¦ (Saturation): {{ saturation }}%</label>
            <input v-model="saturation" type="range" min="0" max="100" class="control-range">
          </div>
          <div class="control-group">
            <label>äº®åº¦ (Lightness): {{ lightness }}%</label>
            <input v-model="lightness" type="range" min="0" max="100" class="control-range">
          </div>
          <div class="control-group">
            <label>é€æ˜åº¦ (Alpha): {{ alpha }}</label>
            <input v-model="alpha" type="range" min="0" max="1" step="0.1" class="control-range">
          </div>
        </div>

        <div class="color-display">
          <div class="color-preview" :style="{ backgroundColor: currentHSL }">
            <div class="color-info">
              <h4 class="text-lg font-semibold text-white mix-blend-difference mb-2">é¢„è§ˆé¢œè‰²</h4>
              <div class="color-values">
                <div class="color-value">HSL: {{ currentHSL }}</div>
                <div class="color-value">RGB: {{ currentRGB }}</div>
                <div class="color-value">HEX: {{ currentHEX }}</div>
              </div>
            </div>
          </div>

          <div class="color-variations">
            <h4 class="font-semibold mb-3">é¢œè‰²å˜åŒ–</h4>
            <div class="variations-grid">
              <div 
                v-for="variation in colorVariations" 
                :key="variation.name"
                class="variation-item"
                :style="{ backgroundColor: variation.color }"
              >
                <span class="variation-name">{{ variation.name }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CSS æ¸å˜ -->
    <section class="demo-section">
      <h3 class="section-title">CSS æ¸å˜</h3>
      
      <div class="theory-box">
        <h4 class="font-semibold mb-2">ğŸ’¡ æ¸å˜ç±»å‹</h4>
        <div class="gradient-types">
          <div class="gradient-type">
            <strong>çº¿æ€§æ¸å˜ (linear-gradient)</strong> - æ²¿ç€ä¸€æ¡ç›´çº¿çš„é¢œè‰²è¿‡æ¸¡
          </div>
          <div class="gradient-type">
            <strong>å¾„å‘æ¸å˜ (radial-gradient)</strong> - ä»ä¸­å¿ƒç‚¹å‘å¤–è¾å°„çš„é¢œè‰²è¿‡æ¸¡
          </div>
          <div class="gradient-type">
            <strong>é”¥å½¢æ¸å˜ (conic-gradient)</strong> - å›´ç»•ä¸­å¿ƒç‚¹æ—‹è½¬çš„é¢œè‰²è¿‡æ¸¡
          </div>
        </div>
      </div>

      <div class="demo-playground">
        <div class="controls">
          <h4 class="font-semibold mb-3">æ¸å˜è®¾ç½®</h4>
          <div class="control-group">
            <label>æ¸å˜ç±»å‹:</label>
            <select v-model="gradientType" class="control-select">
              <option value="linear">çº¿æ€§æ¸å˜</option>
              <option value="radial">å¾„å‘æ¸å˜</option>
              <option value="conic">é”¥å½¢æ¸å˜</option>
            </select>
          </div>
          <div v-if="gradientType === 'linear'" class="control-group">
            <label>æ–¹å‘: {{ linearDirection }}Â°</label>
            <input v-model="linearDirection" type="range" min="0" max="360" class="control-range">
          </div>
          <div class="control-group">
            <label>èµ·å§‹é¢œè‰²:</label>
            <input v-model="gradientStart" type="color" class="control-color">
          </div>
          <div class="control-group">
            <label>ç»“æŸé¢œè‰²:</label>
            <input v-model="gradientEnd" type="color" class="control-color">
          </div>
        </div>

        <div class="gradient-display">
          <div class="gradient-preview" :style="{ background: currentGradient }">
            <div class="gradient-info">
              <h4 class="text-lg font-semibold text-white mix-blend-difference mb-2">æ¸å˜é¢„è§ˆ</h4>
            </div>
          </div>
          
          <div class="gradient-examples">
            <h4 class="font-semibold mb-3">å¸¸ç”¨æ¸å˜æ•ˆæœ</h4>
            <div class="examples-grid">
              <div 
                v-for="example in gradientExamples" 
                :key="example.name"
                class="gradient-example"
                :style="{ background: example.gradient }"
              >
                <span class="example-name">{{ example.name }}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="code-display">
          <h4 class="font-semibold mb-2">ç”Ÿæˆçš„ CSS ä»£ç </h4>
          <pre class="code-block"><code>background: {{ currentGradient }};</code></pre>
        </div>
      </div>
    </section>

    <!-- é¢œè‰²ç†è®ºä¸é…è‰² -->
    <section class="demo-section">
      <h3 class="section-title">é¢œè‰²ç†è®ºä¸é…è‰²æ–¹æ¡ˆ</h3>
      
      <div class="theory-box">
        <h4 class="font-semibold mb-2">ğŸ’¡ é…è‰²ç†è®º</h4>
        <p class="text-sm text-gray-600 mb-4">
          ç†è§£è‰²å½©ç†è®ºæœ‰åŠ©äºåˆ›å»ºå’Œè°ã€å¸å¼•äººçš„é…è‰²æ–¹æ¡ˆã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åŸºç¡€çš„é…è‰²åŸåˆ™ï¼š
        </p>
      </div>

      <div class="color-schemes">
        <div 
          v-for="scheme in colorSchemes" 
          :key="scheme.name"
          class="color-scheme-card"
        >
          <h4 class="font-semibold mb-3">{{ scheme.name }}</h4>
          <div class="scheme-colors">
            <div 
              v-for="(color, index) in scheme.colors" 
              :key="index"
              class="scheme-color"
              :style="{ backgroundColor: color }"
              :title="color"
            ></div>
          </div>
          <p class="scheme-description">{{ scheme.description }}</p>
        </div>
      </div>
    </section>
  </div>
</template>

<script>
export default {
  name: 'ColorsDemo',
  data() {
    return {
      // HSL è°ƒèŠ‚å™¨
      hue: 220,
      saturation: 80,
      lightness: 60,
      alpha: 1,
      
      // æ¸å˜è®¾ç½®
      gradientType: 'linear',
      linearDirection: 45,
      gradientStart: '#ff6b6b',
      gradientEnd: '#4ecdc4',
      
      // é¢œè‰²ç¤ºä¾‹æ•°æ®
      keywordColors: [
        { name: 'red', value: 'red' },
        { name: 'blue', value: 'blue' },
        { name: 'green', value: 'green' },
        { name: 'orange', value: 'orange' },
        { name: 'purple', value: 'purple' },
        { name: 'cyan', value: 'cyan' }
      ],
      
      hexColors: [
        { name: 'çº¢è‰²', value: '#FF0000' },
        { name: 'ç»¿è‰²', value: '#00FF00' },
        { name: 'è“è‰²', value: '#0000FF' },
        { name: 'åŠé€æ˜', value: '#FF000080' },
        { name: 'æ·±ç°', value: '#333333' },
        { name: 'æµ…ç°', value: '#CCCCCC' }
      ],
      
      rgbColors: [
        { name: 'rgb(255,99,71)', value: 'rgb(255,99,71)' },
        { name: 'rgba(0,128,0,0.5)', value: 'rgba(0,128,0,0.5)' },
        { name: 'rgb(70,130,180)', value: 'rgb(70,130,180)' },
        { name: 'rgba(255,215,0,0.8)', value: 'rgba(255,215,0,0.8)' }
      ],
      
      hslColors: [
        { name: 'hsl(0,100%,50%)', value: 'hsl(0,100%,50%)' },
        { name: 'hsla(120,100%,25%,0.7)', value: 'hsla(120,100%,25%,0.7)' },
        { name: 'hsl(240,100%,50%)', value: 'hsl(240,100%,50%)' },
        { name: 'hsla(300,76%,72%,0.6)', value: 'hsla(300,76%,72%,0.6)' }
      ],
      
      gradientExamples: [
        { name: 'æ—¥è½', gradient: 'linear-gradient(45deg, #ff9a9e, #fecfef)' },
        { name: 'æµ·æ´‹', gradient: 'linear-gradient(120deg, #a8edea, #fed6e3)' },
        { name: 'æ£®æ—', gradient: 'linear-gradient(135deg, #667eea, #764ba2)' },
        { name: 'å½©è™¹', gradient: 'linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3)' },
        { name: 'å¾„å‘', gradient: 'radial-gradient(circle, #ff6b6b, #4ecdc4)' },
        { name: 'é”¥å½¢', gradient: 'conic-gradient(from 0deg, #ff6b6b, #4ecdc4, #45b7d1, #ff6b6b)' }
      ],
      
      colorSchemes: [
        {
          name: 'å•è‰²é…è‰²',
          colors: ['#1a365d', '#2d5a8a', '#4a90b8', '#68c5e6', '#86faf1'],
          description: 'ä½¿ç”¨åŒä¸€è‰²ç›¸çš„ä¸åŒæ˜æš—åº¦ï¼Œåˆ›é€ ç»Ÿä¸€å’Œè°çš„æ„Ÿè§‰'
        },
        {
          name: 'äº’è¡¥é…è‰²',
          colors: ['#ff6b6b', '#4ecdc4', '#ff9999', '#7dd3c7', '#ffcccc'],
          description: 'ä½¿ç”¨è‰²ç¯ä¸Šç›¸å¯¹çš„é¢œè‰²ï¼Œäº§ç”Ÿå¼ºçƒˆçš„å¯¹æ¯”æ•ˆæœ'
        },
        {
          name: 'ä¸‰è§’é…è‰²',
          colors: ['#ff6b6b', '#4ecdc4', '#45b7d1', '#ffa07a', '#98d8c8'],
          description: 'ä½¿ç”¨è‰²ç¯ä¸Šç­‰è·çš„ä¸‰ç§é¢œè‰²ï¼Œå¹³è¡¡ä¸”ç”ŸåŠ¨'
        },
        {
          name: 'åˆ†ç¦»è¡¥è‰²',
          colors: ['#ff6b6b', '#4ecdc4', '#96ceb4', '#ffeaa7', '#74b9ff'],
          description: 'ä¸»è‰²ä¸å…¶è¡¥è‰²ç›¸é‚»çš„ä¸¤ç§é¢œè‰²ç»„åˆ'
        }
      ]
    }
  },
  computed: {
    currentHSL() {
      return `hsla(${this.hue}, ${this.saturation}%, ${this.lightness}%, ${this.alpha})`
    },
    
    currentRGB() {
      const h = this.hue / 360
      const s = this.saturation / 100
      const l = this.lightness / 100
      
      const hue2rgb = (p, q, t) => {
        if (t < 0) t += 1
        if (t > 1) t -= 1
        if (t < 1/6) return p + (q - p) * 6 * t
        if (t < 1/2) return q
        if (t < 2/3) return p + (q - p) * (2/3 - t) * 6
        return p
      }
      
      const q = l < 0.5 ? l * (1 + s) : l + s - l * s
      const p = 2 * l - q
      
      const r = Math.round(hue2rgb(p, q, h + 1/3) * 255)
      const g = Math.round(hue2rgb(p, q, h) * 255)
      const b = Math.round(hue2rgb(p, q, h - 1/3) * 255)
      
      return `rgba(${r}, ${g}, ${b}, ${this.alpha})`
    },
    
    currentHEX() {
      // ç®€åŒ–ç‰ˆæœ¬ï¼Œä¸åŒ…å«é€æ˜åº¦
      const h = this.hue / 360
      const s = this.saturation / 100
      const l = this.lightness / 100
      
      const hue2rgb = (p, q, t) => {
        if (t < 0) t += 1
        if (t > 1) t -= 1
        if (t < 1/6) return p + (q - p) * 6 * t
        if (t < 1/2) return q
        if (t < 2/3) return p + (q - p) * (2/3 - t) * 6
        return p
      }
      
      const q = l < 0.5 ? l * (1 + s) : l + s - l * s
      const p = 2 * l - q
      
      const r = Math.round(hue2rgb(p, q, h + 1/3) * 255)
      const g = Math.round(hue2rgb(p, q, h) * 255)
      const b = Math.round(hue2rgb(p, q, h - 1/3) * 255)
      
      const toHex = (n) => n.toString(16).padStart(2, '0')
      return `#${toHex(r)}${toHex(g)}${toHex(b)}`
    },
    
    colorVariations() {
      const baseH = this.hue
      const baseS = this.saturation
      const baseL = this.lightness
      
      return [
        { name: 'æ›´äº®', color: `hsl(${baseH}, ${baseS}%, ${Math.min(baseL + 20, 100)}%)` },
        { name: 'æ›´æš—', color: `hsl(${baseH}, ${baseS}%, ${Math.max(baseL - 20, 0)}%)` },
        { name: 'æ›´é¥±å’Œ', color: `hsl(${baseH}, ${Math.min(baseS + 30, 100)}%, ${baseL}%)` },
        { name: 'ä¸é¥±å’Œ', color: `hsl(${baseH}, ${Math.max(baseS - 30, 0)}%, ${baseL}%)` },
        { name: 'è¡¥è‰²', color: `hsl(${(baseH + 180) % 360}, ${baseS}%, ${baseL}%)` },
        { name: 'ç±»ä¼¼è‰²', color: `hsl(${(baseH + 30) % 360}, ${baseS}%, ${baseL}%)` }
      ]
    },
    
    currentGradient() {
      if (this.gradientType === 'linear') {
        return `linear-gradient(${this.linearDirection}deg, ${this.gradientStart}, ${this.gradientEnd})`
      } else if (this.gradientType === 'radial') {
        return `radial-gradient(circle, ${this.gradientStart}, ${this.gradientEnd})`
      } else if (this.gradientType === 'conic') {
        return `conic-gradient(from 0deg, ${this.gradientStart}, ${this.gradientEnd}, ${this.gradientStart})`
      }
      return ''
    }
  }
}
</script>

<style scoped>
.colors-demo {
  @apply space-y-8;
}

.demo-header {
  @apply bg-white rounded-lg shadow-md p-6 border border-gray-200;
}

.demo-section {
  @apply bg-white rounded-lg shadow-md overflow-hidden border border-gray-200;
}

.section-title {
  @apply text-xl font-semibold text-gray-900 p-6 pb-4 border-b border-gray-200;
}

.theory-box {
  @apply p-6 bg-blue-50 border-b border-gray-200;
}

.color-methods-grid {
  @apply grid grid-cols-1 md:grid-cols-2 gap-6 p-6;
}

.color-method-card {
  @apply bg-gray-50 rounded-lg p-4 border border-gray-200;
}

.color-examples {
  @apply grid grid-cols-2 gap-2 mb-4;
}

.color-example {
  @apply h-12 rounded-md flex items-center justify-center text-white font-medium text-sm;
}

.color-name {
  @apply mix-blend-difference;
}

.code-example {
  @apply bg-gray-800 text-gray-100 p-3 rounded text-xs;
}

.demo-playground {
  @apply grid grid-cols-1 lg:grid-cols-2 gap-6 p-6;
}

.controls {
  @apply space-y-4;
}

.control-group {
  @apply flex flex-col space-y-2;
}

.control-group label {
  @apply text-sm font-medium text-gray-700;
}

.control-range {
  @apply w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer;
}

.control-range::-webkit-slider-thumb {
  @apply appearance-none w-4 h-4 bg-blue-500 rounded-full cursor-pointer;
}

.hue-range {
  background: linear-gradient(to right, 
    hsl(0, 80%, 60%), hsl(60, 80%, 60%), hsl(120, 80%, 60%), 
    hsl(180, 80%, 60%), hsl(240, 80%, 60%), hsl(300, 80%, 60%), hsl(360, 80%, 60%));
}

.control-select {
  @apply px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm;
}

.control-color {
  @apply w-full h-10 border border-gray-300 rounded-md cursor-pointer;
}

.color-display {
  @apply space-y-4;
}

.color-preview {
  @apply h-48 rounded-lg flex items-center justify-center relative overflow-hidden;
}

.color-info {
  @apply text-center;
}

.color-values {
  @apply space-y-1;
}

.color-value {
  @apply text-sm font-mono bg-black bg-opacity-20 px-2 py-1 rounded;
}

.color-variations {
  @apply mt-4;
}

.variations-grid {
  @apply grid grid-cols-2 md:grid-cols-3 gap-2;
}

.variation-item {
  @apply h-16 rounded-md flex items-center justify-center text-white font-medium text-sm;
}

.variation-name {
  @apply mix-blend-difference;
}

.gradient-display {
  @apply space-y-4;
}

.gradient-preview {
  @apply h-48 rounded-lg flex items-center justify-center;
}

.gradient-info {
  @apply text-center;
}

.gradient-examples {
  @apply mt-4;
}

.examples-grid {
  @apply grid grid-cols-2 md:grid-cols-3 gap-2;
}

.gradient-example {
  @apply h-16 rounded-md flex items-center justify-center text-white font-medium text-sm;
}

.example-name {
  @apply mix-blend-difference;
}

.code-display {
  @apply lg:col-span-2 mt-4;
}

.code-block {
  @apply bg-gray-900 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto;
}

.gradient-types {
  @apply space-y-2;
}

.gradient-type {
  @apply text-sm p-2 bg-white rounded border border-blue-200;
}

.color-schemes {
  @apply grid grid-cols-1 md:grid-cols-2 gap-6 p-6;
}

.color-scheme-card {
  @apply bg-gray-50 rounded-lg p-4 border border-gray-200;
}

.scheme-colors {
  @apply flex space-x-1 mb-3;
}

.scheme-color {
  @apply w-8 h-8 rounded-md flex-shrink-0;
}

.scheme-description {
  @apply text-sm text-gray-600;
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 1024px) {
  .demo-playground {
    @apply grid-cols-1;
  }
  
  .code-display {
    @apply col-span-1;
  }
}
</style>
